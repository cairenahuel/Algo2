\documentclass[../document.tex]{subfiles}
\begin{document}
\aux{unidadFondoComun}{recursos: \TLista{\float}, cooperan: \TLista{\bool}}{\float}{\\(\sum_{i=0}^{|recursos|-1} \IfThenElse{cooperan[i]}{recursos[i]}{0})/|recursos|}
\aux{ufcPaso}{tiempo: \ent, trayectoria: \TLista{\TLista{\float}}, cooperan: \TLista{\bool}, apuestas : \TLista{\TLista{\float}}, pagos : \TLista{\TLista{\float}}, eventos : \TLista{\TLista{\nat}}}{\float}{
	{\sum_{i=0}^{|cooperan|-1}(\IfThenElse{cooperan[i]}{trayectoria[i][t]*apuestas[i][ev[i][t]]*pagos[i][ev[i][t]]}{0})}/{|cooperan|}
}
\pred{enRango}{i: \ent, tope: \nat}{0\leq i<tope}
\pred{todosPositivos}{lista: \TLista{\float}}{
\paraTodo[unalinea]{i}{\ent}{enRango(i, |lista|)\yLuego lista[i]>0}
}
\pred{esRectangular}{matriz: \TLista{\TLista{T}}}{\paraTodo[unalinea]{i}{\ent}{enRango(i, |matriz|-1) \yLuego |matriz[i]|=|matriz[i+1]|}}
\pred{esApuestaValida}{\In apuesta: \TLista{\float}}{
	\paraTodo[unalinea]{i}{\nat}{enRango(i, |apuesta|) \yLuego apuesta[i] \geq 0} \yLuego
	\bigl((\sum_{i=0}^{|apuesta|-1}{apuesta[i]}) = 1\bigr)
}
\pred{esTrayectoriaValida}{trayectoria: \TLista{\TLista{\float}},cooperan: \TLista{\bool},apuestas: \TLista{\TLista{\float}},pagos: \TLista{\TLista{\float}},\\eventos: \TLista{\TLista{\ent}}}
    {|trayectoria|=|cooperan| \yLuego |trayectoria[0]|+1=|eventos[0]|\yLuego esRectangular(trayectoria)\yLuego
    \\\paraTodo[unalinea]{i}{\ent}{enRango(i, |cooperan|)\yLuego trayectoria[i][0]=recursos[i]} \yLuego
    \\\paraTodo[unalinea]{\ tiempo}{\nat}
    {enRango(tiempo, |eventos[0]|)\yLuego
    \paraTodo[unalinea]{\ individuo}{\ent}{enRango(individuo, |eventos|)\yLuego \\trayectoria[individuo][tiempo+1]=
    ufcPaso(tiempo,trayectoria,cooperan,apuestas,pagos,eventos)+
    \\\IfThenElse{cooperan[individuo]}{0}{
        \\\bigl(trayectoria[individuo][tiempo]*apuestas[individuo]\bigl[eventos[individuo][tiempo]\bigr]
        \\ *pagos[individuo]\bigl[eventos[individuo][tiempo]\bigr]\bigr)}}}
    }
\end{document}
\documentclass[../../document.tex]{subfiles}
\usepackage{amssymb}
\begin{document}
	\begin{proc}{individuoActualizaApuesta}{\In individuo: \nat, \In recursos: \TLista{\float}, \In cooperan: \TLista{\bool}, \Inout apuestas : \TLista{\TLista{\float}}, \In pagos : \TLista{\TLista{\float}}, \In eventos : \TLista{\TLista{\nat}}}{}
		\requiere{apuestas=APUESTAS_0}
		\requiere{|recursos|=|cooperan|=|eventos|=|pagos|=|apuestas|}
		\requiere{enRango(individuo, |cooperan|)}
		\requiere{todosPositivos(recursos)}
		\requiere{\paraTodo[unalinea]{i}{\ent}{enRango(i, |eventos|) \yLuego |eventos[i]|>0}}
		\requiere{\paraTodo[unalinea]{i}{\ent}{enRango(i, |cooperan|) \yLuego (|pagos[i]|=|apuestas[i]|)}}
		
		\requiere{esRectangular(eventos)\yLuego esRectangular(pagos)\yLuego esRectangular(apuestas)}
		\requiere{\paraTodo[unalinea]{i}{\ent}{enRango(i, |cooperan|)\yLuego esApuestaValida(apuestas[i])}}
		{\color{olive}\salto{\baselineskip}

		\requiere{todosLosEventosSonValidos(eventos, apuestas)}
		\pred{todosLosEventosSonValidos}{apuestas : \TLista{\TLista{\float}}, eventos : \TLista{\TLista{\nat}}}{\paraTodo[unalinea]{\ individuo}{\ent}{enRango(individuo, |cooperan|)\yLuego
		\\\paraTodo[unalinea]{\ tiempo}{\ent}{enRango(tiempo, |eventos[0]|)\yLuego
		\\\existe[unalinea]{\ eventoPosible}{\nat}{enRango(eventoPosible, |pagos[0]|) \yLuego
		\\eventos[individuo][tiempo]=eventoPosible}}}}
		\salto{\baselineskip}
		\requiere{\text{SE ME HABIA OCURRIDO UN REQUIERE MAS PERO SE ME OLVIDO AAAAAAAAAAA}}

		}\salto{\baselineskip}

		\asegura{\existe[unalinea]{\ mejorApuesta}{\TLista{\float}}{esApuestaValida(mejorApuesta)
		\yLuego apuestas[individuo]=mejorApuesta \sii\\
		\existe[unalinea]{\ mejorTrayectoria}{\TLista{\TLista{\float}}}{
			\\esTrayectoriaValida(mejorTrayectoria, cooperan, setAt(apuestas, individuo, mejorApuesta), pagos, eventos)\yLuego
			\\\paraTodo[unalinea]{\ otraApuesta}{\TLista{\float}}{esApuestaValida(otraApuesta)\yLuego \existe[unalinea]{\ otraTrayectoria}{\TLista{\TLista{\float}}}{
				\\esTrayectoriaValida(otraTrayectoria, cooperan, setAt(apuestas,individuo,otraApuesta),pagos,eventos)\yLuego
				\\mejorTrayectoria[individuo][|eventos[individuo]|]\geq otraTrayectoria[|eventos[individuo]|]
			}}
		}}}
		
		\begin{adjustwidth}{1em}{}
			\donde{tfc=trayectoriaFinalCooperando}
			\donde{tfnc=trayectoriaFinalNoCooperando}
		\end{adjustwidth}
	\end{proc}	
\end{document}